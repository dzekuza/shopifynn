<div class="cart-drawer__overlay" data-cart-drawer-overlay></div>
<div class="cart-drawer" data-cart-drawer aria-hidden="true">
  <div class="cart-drawer__header">
    <h2 class="cart-drawer__title">Your Cart</h2>
    <button type="button" class="cart-drawer__close" data-cart-drawer-close aria-label="Close cart">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>
  </div>

  <div class="cart-drawer__body" data-cart-drawer-body>
    <div class="cart-drawer__empty" data-cart-drawer-empty style="{% if cart.item_count > 0 %}display:none{% endif %}">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--color-text-muted)" stroke-width="1">
        <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/>
      </svg>
      <p>Your cart is empty</p>
      <a href="/collections/all" class="button button--outline cart-drawer__shop-btn">Start Shopping</a>
    </div>

    <div class="cart-drawer__items" data-cart-drawer-items>
      {% for item in cart.items %}
        <div class="cart-drawer-item" data-cart-drawer-item data-line="{{ forloop.index }}" data-key="{{ item.key }}">
          <a href="{{ item.url }}" class="cart-drawer-item__image-wrap">
            {% if item.image %}
              <img src="{{ item.image | image_url: width: 160 }}" alt="{{ item.title | escape }}" loading="lazy" class="cart-drawer-item__image">
            {% else %}
              <div class="cart-drawer-item__placeholder">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--color-text-muted)" stroke-width="1">
                  <rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/>
                </svg>
              </div>
            {% endif %}
          </a>
          <div class="cart-drawer-item__details">
            <div class="cart-drawer-item__top">
              <a href="{{ item.url }}" class="cart-drawer-item__title">{{ item.product.title }}</a>
              <button type="button" class="cart-drawer-item__remove" data-cart-drawer-remove data-line="{{ forloop.index }}" aria-label="Remove">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
              </button>
            </div>
            {% unless item.product.has_only_default_variant %}
              <p class="cart-drawer-item__variant">{{ item.variant.title }}</p>
            {% endunless %}
            <div class="cart-drawer-item__bottom">
              <div class="cart-drawer-item__quantity" data-quantity-selector>
                <button type="button" class="cart-drawer-item__qty-btn" data-cart-drawer-qty-minus data-line="{{ forloop.index }}" aria-label="Decrease">
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/></svg>
                </button>
                <span class="cart-drawer-item__qty-value" data-cart-drawer-qty-value>{{ item.quantity }}</span>
                <button type="button" class="cart-drawer-item__qty-btn" data-cart-drawer-qty-plus data-line="{{ forloop.index }}" aria-label="Increase">
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                </button>
              </div>
              <span class="cart-drawer-item__price">{{ item.final_line_price | money }}</span>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>

  <div class="cart-drawer__footer" data-cart-drawer-footer style="{% if cart.item_count == 0 %}display:none{% endif %}">
    <div class="cart-drawer__upsells" data-cart-drawer-upsells></div>
    <div class="cart-drawer__subtotal">
      <span>Subtotal</span>
      <span data-cart-drawer-subtotal>{{ cart.total_price | money }}</span>
    </div>
    <p class="cart-drawer__shipping-note">Shipping & taxes calculated at checkout</p>
    <a href="/checkout" class="button button--primary cart-drawer__checkout">Checkout</a>
    <a href="/cart" class="cart-drawer__view-cart">View Cart</a>
  </div>
</div>
