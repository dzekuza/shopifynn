<!DOCTYPE html>
<html lang="{{ request.locale.iso_code }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="{{ settings.color_primary }}">

  <title>
    {%- if page_title == blank -%}
      {{ shop.name }}
    {%- else -%}
      {{ page_title }} — {{ shop.name }}
    {%- endif -%}
  </title>

  {% if page_description %}
    <meta name="description" content="{{ page_description | escape }}">
  {% endif %}

  {{ content_for_header }}

  <style>
    :root {
      --color-primary: {{ settings.color_primary }};
      --color-secondary: {{ settings.color_secondary }};
      --color-accent: {{ settings.color_accent }};
      --color-background: {{ settings.color_background }};
      --color-surface: {{ settings.color_surface }};
      --color-text: {{ settings.color_text }};
      --color-text-muted: {{ settings.color_text_muted }};
      --color-button-outline-border: {{ settings.color_button_outline_border }};
      --color-button-outline-text: {{ settings.color_button_outline_text }};
      --color-button-outline-bg: {{ settings.color_button_outline_bg }};
      --color-button-outline-border-hover: {{ settings.color_button_outline_border_hover }};
      --color-button-outline-text-hover: {{ settings.color_button_outline_text_hover }};
      --color-button-outline-bg-hover: {{ settings.color_button_outline_bg_hover }};
      --font-heading: {{ settings.font_heading.family }}, {{ settings.font_heading.fallback_families }};
      --font-body: {{ settings.font_body.family }}, {{ settings.font_body.fallback_families }};
      --font-heading-weight: {{ settings.font_heading.weight }};
      --font-body-weight: {{ settings.font_body.weight }};

      /* Typography sizes — desktop */
      --font-size-h1: {{ settings.font_size_h1 }}px;
      --font-size-h2: {{ settings.font_size_h2 }}px;
      --font-size-h3: {{ settings.font_size_h3 }}px;
      --font-size-h4: {{ settings.font_size_h4 }}px;
      --font-size-body: {{ settings.font_size_body }}px;
      --font-size-small: {{ settings.font_size_small }}px;
      --font-size-button: {{ settings.font_size_button }}px;

      /* Typography sizes — mobile */
      --font-size-h1-mobile: {{ settings.font_size_h1_mobile }}px;
      --font-size-h2-mobile: {{ settings.font_size_h2_mobile }}px;
      --font-size-h3-mobile: {{ settings.font_size_h3_mobile }}px;
      --font-size-h4-mobile: {{ settings.font_size_h4_mobile }}px;
      --font-size-body-mobile: {{ settings.font_size_body_mobile }}px;

      /* Product card settings */
      --card-image-radius: {{ settings.card_image_border_radius }};
      --card-image-ratio: {{ settings.card_image_ratio }};
      --card-text-align: {{ settings.card_text_alignment }};
      --card-badge-radius: {% case settings.card_badge_style %}{% when 'pill' %}20px{% when 'rounded' %}6px{% when 'square' %}0{% endcase %};
    }
  </style>

  <style>
    {{ settings.font_heading | font_face: font_display: 'swap' }}
    {{ settings.font_body | font_face: font_display: 'swap' }}
  </style>

  <link rel="stylesheet" href="{{ 'theme.css' | asset_url }}">

  {% if template.suffix == 'configurator' %}
    {{ 'configurator.css' | asset_url | stylesheet_tag }}
  {% endif %}

  {% if settings.favicon %}
    <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32 }}">
  {% endif %}
</head>

<body class="template-{{ template.name }}">
  <a href="#main-content" class="skip-link">Skip to content</a>

  {% section 'header' %}
  {% render 'cart-drawer' %}

  <main id="main-content" role="main">
    {{ content_for_layout }}
  </main>

  {% section 'footer' %}

  <script>window.__shopCurrency = {{ shop.currency | json }};
  window.__shopLocale = {{ request.locale.iso_code | json }};</script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js" defer></script>

  <script src="{{ 'theme.js' | asset_url }}" defer></script>
</body>
</html>
