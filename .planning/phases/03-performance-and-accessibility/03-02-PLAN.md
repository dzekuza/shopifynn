---
phase: 03-performance-and-accessibility
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - sections/product-tiers.liquid
  - sections/collection-list.liquid
  - sections/main-blog.liquid
  - sections/featured-collections.liquid
  - sections/image-with-text.liquid
  - sections/lifestyle-gallery.liquid
  - sections/slideshow.liquid
  - sections/video.liquid
  - sections/banner.liquid
  - sections/blog-posts.liquid
  - sections/multicolumn.liquid
  - sections/main-product.liquid
  - snippets/product-card.liquid
autonomous: true
requirements:
  - PERF-05
  - A11Y-03

must_haves:
  truths:
    - "All below-fold images across sections load lazily, reducing initial page weight"
    - "All img tags across sections and snippets have descriptive alt text — no empty or missing alt attributes on content images"
    - "Above-fold images (hero, configurator default) retain eager loading for LCP performance"
  artifacts:
    - path: "sections/product-tiers.liquid"
      provides: "Lazy loading + descriptive alt text on tier images"
      contains: "loading="
    - path: "sections/collection-list.liquid"
      provides: "Lazy loading + descriptive alt text on collection images"
      contains: "loading="
    - path: "snippets/product-card.liquid"
      provides: "Descriptive alt text on product card images"
      contains: "alt="
  key_links:
    - from: "sections/*.liquid"
      to: "img tags"
      via: "loading attribute and alt attribute on every img element"
      pattern: "loading=.lazy."
---

<objective>
Add loading="lazy" to all non-critical images that are missing it, and audit/fix alt text on all img tags across sections and snippets.

Purpose: Reduce initial page load weight by deferring offscreen images, and ensure screen readers announce meaningful descriptions for all content images.
Output: All section and snippet img tags have appropriate loading attributes and descriptive alt text.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-performance-and-accessibility/3-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add loading="lazy" to non-critical images missing the attribute</name>
  <files>sections/product-tiers.liquid, sections/collection-list.liquid, sections/main-blog.liquid, sections/featured-collections.liquid, sections/image-with-text.liquid, sections/lifestyle-gallery.liquid, sections/slideshow.liquid, sections/video.liquid, sections/banner.liquid, sections/blog-posts.liquid, sections/multicolumn.liquid, sections/main-product.liquid</files>
  <action>
Research identified these section files have `<img>` tags that need loading attribute verification. For each file:

1. **sections/product-tiers.liquid** (~line 60): Add `loading="lazy"` — these are below-fold tier comparison images.
2. **sections/collection-list.liquid** (~lines 26, 38): Add `loading="lazy"` — collection listing images are below-fold.
3. **sections/main-blog.liquid** (~line 14): Add `loading="lazy"` — blog listing images.
4. **sections/featured-collections.liquid** (~line 23): Add `loading="lazy"` — featured collection images below hero.
5. **sections/image-with-text.liquid** (~line 40): Add `loading="lazy"` — editorial content images.
6. **sections/lifestyle-gallery.liquid** (~line 22): Add `loading="lazy"` — gallery images.
7. **sections/slideshow.liquid** (~line 7): Add `loading="lazy"` — slideshows are reorderable but typically below hero. If the first slide should be eager (for when slideshow IS the hero), use Liquid logic: `{% if forloop.first %}loading="eager"{% else %}loading="lazy"{% endif %}` if the slideshow iterates slides.
8. **sections/video.liquid** (~lines 18, 41): Add `loading="lazy"` to poster/thumbnail images.
9. **sections/banner.liquid** (~line 22): Add `loading="lazy"` — banner images are typically below-fold.
10. **sections/blog-posts.liquid** (~line 22): Add `loading="lazy"` — blog post card images.
11. **sections/multicolumn.liquid** (~line 27): Add `loading="lazy"` — multi-column content images.
12. **sections/main-product.liquid** (~lines 16, 41, 53): The featured/first product image should be `loading="eager"` (above-fold LCP candidate). Additional gallery thumbnails or secondary images should be `loading="lazy"`.

Do NOT change existing correct attributes:
- `sections/hero.liquid`: already `loading="eager"` — leave it
- `sections/configurator.liquid`: already correct — leave it
- `snippets/product-card.liquid`: already `loading="lazy"` — leave it
- `sections/features.liquid`, `sections/trust-badges.liquid`, `sections/testimonials.liquid`, `sections/footer.liquid`: already `loading="lazy"` — leave them
  </action>
  <verify>
For each modified file, grep for `<img` and verify every img tag has a `loading=` attribute.
Run: `grep -rn '<img' sections/ snippets/ | grep -v 'loading=' | grep -v '{%'` — should return 0 results for standard HTML img tags (Liquid-generated images using `img_url` filter may have different patterns).
  </verify>
  <done>Every img tag in sections/ has an explicit loading attribute — "eager" for above-fold (hero, main product image) and "lazy" for all others.</done>
</task>

<task type="auto">
  <name>Task 2: Audit and fix alt text on all img tags across sections and snippets</name>
  <files>sections/product-tiers.liquid, sections/collection-list.liquid, sections/main-blog.liquid, sections/featured-collections.liquid, sections/image-with-text.liquid, sections/lifestyle-gallery.liquid, sections/slideshow.liquid, sections/video.liquid, sections/banner.liquid, sections/blog-posts.liquid, sections/multicolumn.liquid, sections/main-product.liquid, snippets/product-card.liquid</files>
  <action>
Audit every `<img>` tag across all section and snippet files for alt text quality:

**Rules:**
- Content images MUST have descriptive alt text: `alt="{{ image.alt | default: product.title | escape }}"` or similar
- Decorative images (pure visual flourish, no informational content) should have `alt=""` (empty alt, not missing alt)
- Never use generic alt like `alt="image"` or `alt="photo"` — use contextual descriptions
- Product images: `alt="{{ product.title | escape }}"` or `alt="{{ image.alt | escape }}"` with Shopify's image alt fallback
- Collection images: `alt="{{ collection.title | escape }}"`
- Blog images: `alt="{{ article.title | escape }}"` or `alt="{{ article.image.alt | escape }}"`

**Specific patterns to fix (from research):**
- Several sections use generic fallbacks — replace with contextual alt text
- Ensure `| escape` filter is applied to all alt text values to prevent XSS
- For Shopify image objects, prefer `{{ image.alt | default: contextual_title | escape }}` pattern

**Files already correct (verify but likely no changes):**
- `snippets/product-card.liquid`: Uses `alt="{{ ... | escape }}"` — verify the alt content is descriptive
- `sections/hero.liquid`: Verify alt describes the hero image content
- `sections/features.liquid`: Verify feature images have descriptive alt

**For JS-generated images in configurator.js:** Those are covered in Plan 03 (configurator scope). Do not modify configurator.js in this plan.
  </action>
  <verify>
Run: `grep -rn 'alt=' sections/ snippets/` — every img tag should have an alt attribute.
Run: `grep -rn '<img' sections/ snippets/ | grep -v 'alt='` — should return 0 lines (no img tags missing alt).
Spot-check 3-4 files to confirm alt text is contextual (not generic "image" or "photo").
  </verify>
  <done>All img tags in sections/ and snippets/ have descriptive, escaped alt text. No img tag is missing an alt attribute. Decorative images use alt="" explicitly.</done>
</task>

</tasks>

<verification>
1. `grep -rn '<img' sections/ snippets/ | grep -v 'alt=' | wc -l` returns 0
2. `grep -rn '<img' sections/ snippets/ | grep -v 'loading=' | wc -l` returns 0 (for standard HTML img tags)
3. No img tag uses generic alt text like `alt="image"` or `alt="photo"`
4. Hero and main product featured image use `loading="eager"`, all others use `loading="lazy"`
</verification>

<success_criteria>
- All non-critical images have loading="lazy" to reduce initial page weight
- All content images have descriptive, escaped alt text
- Above-fold images (hero, main product) retain loading="eager"
- No missing alt attributes on any img tag
</success_criteria>

<output>
After completion, create `.planning/phases/03-performance-and-accessibility/03-02-SUMMARY.md`
</output>
