# Codebase Structure

**Analysis Date:** 2026-02-20

## Directory Layout

```
shopifynn/
├── assets/                      # Compiled CSS and JavaScript
│   ├── theme.css               # Global styles and component styles
│   ├── theme.js                # Global interactivity (header, nav, forms)
│   └── configurator.js         # 15-step hot tub configurator engine
├── config/                      # Theme configuration and settings
│   ├── settings_schema.json    # Admin customization options (colors, fonts, logo)
│   └── settings_data.json      # Current theme settings (generated by Shopify)
├── layout/                      # Master page template
│   └── theme.liquid            # HTML document wrapper for all pages
├── sections/                    # Reusable, customizable page components
│   ├── hero.liquid             # Hero banner with background image/video
│   ├── header.liquid           # Top navigation and logo
│   ├── footer.liquid           # Footer with links and info
│   ├── main-product.liquid     # Product detail page content
│   ├── main-collection.liquid  # Collection product grid
│   ├── configurator.liquid     # 15-step hot tub customizer
│   ├── product-tiers.liquid    # Pricing tier cards (Classic/Premium/Signature)
│   ├── features.liquid         # Benefit grid section
│   ├── testimonials.liquid     # Customer reviews slider
│   ├── stats-bar.liquid        # Key metrics display
│   ├── banner.liquid           # Text banner with image
│   ├── collapsible-content.liquid  # FAQ/accordion blocks
│   ├── newsletter.liquid       # Email subscription form
│   ├── contact-form.liquid     # Contact form with validation
│   └── [20+ more section files] # Additional components
├── snippets/                    # Reusable partial templates
│   ├── product-card.liquid     # Product grid card template
│   ├── configurator-product-json.liquid  # JSON data injector for configurator
│   └── icon.liquid             # SVG icon sprite/builder
├── templates/                   # Page layout definitions
│   ├── index.json              # Home page layout
│   ├── product.json            # Product detail page layout
│   ├── collection.json         # Collection page layout
│   ├── page.json               # Default page layout
│   ├── page.configurator.json  # Configurator page layout
│   ├── article.json            # Blog article layout
│   ├── blog.json               # Blog list layout
│   ├── 404.json                # Not found page layout
│   └── [other template files]
├── locales/                     # Internationalization strings
│   └── en.default.json         # English translation keys
├── generated-images/           # (Generated) Configurator preview images
├── scripts/                     # Custom scripts (if any)
└── skills/                      # (Empty or utility scripts)
```

## Directory Purposes

**assets/:**
- Purpose: Compiled frontend assets served to browser
- Contains: CSS stylesheets, JavaScript modules, image/font assets (if bundled)
- Key files: `theme.css` (all styling), `theme.js` (global interactivity)
- Modifications: Edit `.liquid` files directly; Shopify uploads to CDN
- Committed: Yes (version-controlled for theme consistency)

**config/:**
- Purpose: Theme configuration and admin customization schema
- Contains: `settings_schema.json` (defines admin interface), `settings_data.json` (active settings)
- Key files: `settings_schema.json` defines colors, typography, logo options visible in Shopify admin
- Modifications: `settings_schema.json` is version-controlled; `settings_data.json` auto-generated by Shopify
- Committed: `settings_schema.json` yes; `settings_data.json` can be committed for baseline

**layout/:**
- Purpose: Master page template wrapping all pages
- Contains: Single `theme.liquid` file with HTML structure, head metadata, global styles/scripts
- Key files: `theme.liquid` (document wrapper, loads CSS/JS, includes header/footer sections)
- Modifications: Edit `theme.liquid` directly; changes apply to all pages
- Committed: Yes

**sections/:**
- Purpose: Reusable, customizable page components
- Contains: 28+ `.liquid` files, each is a section with inline schema for Shopify admin
- Structure: Each section file contains:
  - Liquid HTML markup for rendering
  - Inline `{% schema %}` JSON with settings and blocks
  - Optional `{% stylesheet %}` for section-specific CSS
  - Optional `{% javascript %}` for section-specific JS
- Key sections:
  - `hero.liquid`, `header.liquid`, `footer.liquid` (core layout)
  - `main-product.liquid`, `main-collection.liquid` (page-specific)
  - `configurator.liquid` (15-step wizard, embeds product data)
  - `features.liquid`, `testimonials.liquid`, `stats-bar.liquid` (marketing content)
- Modifications: Edit `.liquid` files directly; schema fields auto-populate Shopify admin
- Committed: Yes

**snippets/:**
- Purpose: Reusable partial templates (not directly editable in admin)
- Contains: Small, focused `.liquid` files included by sections
- Key files:
  - `product-card.liquid` - Used by collection and grid sections to render single product
  - `icon.liquid` - Outputs SVG icons, used throughout theme
  - `configurator-product-json.liquid` - Injects JSON data into configurator section
- Modifications: Edit `.liquid` files directly
- Committed: Yes

**templates/:**
- Purpose: Page layout definitions mapping URLs to section compositions
- Contains: JSON files (not Liquid) that define page sections and their settings
- Key files:
  - `index.json` - Home page (hero → product tiers → features → testimonials → FAQ → newsletter)
  - `product.json` - Product detail (main-product section with blocks)
  - `collection.json` - Collection grid (main-collection section)
  - `page.configurator.json` - Configurator wizard (configurator section)
- Structure: JSON with `sections` object (keyed by section ID) and `order` array
- Modifications: Can edit via Shopify admin (recommended) or version-control as JSON
- Committed: Yes (baseline layouts), but admin may overwrite
- Note: Files marked as "auto-generated" by Shopify but safe to version-control

**locales/:**
- Purpose: Internationalization and translated strings
- Contains: JSON key-value pairs for translatable content
- Key files: `en.default.json` (English strings)
- Modifications: Edit JSON keys/values directly
- Committed: Yes
- Usage: Referenced in Liquid via `{{ 'key' | t }}` filter (if implemented)

**generated-images/:**
- Purpose: Generated preview images for configurator
- Contains: Auto-generated image files
- Modifications: Don't edit; auto-generated by configurator workflow
- Committed: No (typically in .gitignore)

**scripts/:**
- Purpose: Custom build or utility scripts
- Contains: Bash/Node.js scripts if used for theme development
- Modifications: Create/edit as needed for automation
- Committed: Yes (if checked in)

**skills/:**
- Purpose: (Empty or utility directory)
- Modifications: As needed
- Committed: Depends on contents

## Key File Locations

**Entry Points:**
- `layout/theme.liquid` - Master HTML document; entry point for all pages
- `templates/index.json` - Home page composition
- `templates/product.json` - Product detail page
- `templates/collection.json` - Collection browse page
- `templates/page.configurator.json` - Configurator page

**Configuration:**
- `config/settings_schema.json` - Theme customization options (colors, fonts, logo)
- `config/settings_data.json` - Active settings snapshot

**Core Logic:**
- `sections/configurator.liquid` - 15-step hot tub customization wizard (Liquid + inline styles/JS)
- `assets/configurator.js` - Configurator state engine and UI updates (152+ lines)
- `sections/header.liquid` - Navigation structure with mega-menu support
- `sections/footer.liquid` - Footer navigation and company info
- `assets/theme.js` - Global interactivity (sticky header, mobile menu, dropdowns, galleries)
- `assets/theme.css` - All styling (69+ KB)

**Testing:**
- No test files present (not detected in codebase)

## Naming Conventions

**Files:**

- **Sections:** kebab-case, prefixed by purpose: `main-product.liquid`, `product-tiers.liquid`, `hero.liquid`
  - `main-*` prefix for primary/required sections (main-product, main-collection, main-blog)
  - Descriptive names for component sections (features, testimonials, stats-bar)

- **Snippets:** kebab-case, noun-based: `product-card.liquid`, `icon.liquid`

- **Templates:** kebab-case with optional type prefix: `index.json`, `product.json`, `page.json`, `page.configurator.json`
  - `page.{name}.json` for custom page templates

- **Assets:** kebab-case or dot-notation: `theme.css`, `theme.js`, `configurator.js`

- **Config:** JSON, lowercase: `settings_schema.json`, `settings_data.json`

- **Locales:** language code + region: `en.default.json`

**Directories:**

- Plural nouns: `sections/`, `snippets/`, `templates/`, `assets/`, `config/`, `locales/`, `layout/`
- Functional grouping, not by type

**CSS Classes:**

- BEM (Block Element Modifier): `.block__element--modifier`
- Examples: `.hero__content`, `.hero__heading`, `.hero__buttons`, `.product-card__image`, `.product-card__badge--sale`
- Namespaced by section component: `.cfg-*` for configurator, `.header-*` for header

**JavaScript Identifiers:**

- Data attributes for DOM targeting: `data-header`, `data-menu-toggle`, `data-dropdown`, `data-steps`
- camelCase for functions: `_cacheEls()`, `_renderSteps()`, `_bindEvents()`
- UPPERCASE constants: `STEPS` (array of step definitions)

## Where to Add New Code

**New Section/Component:**
- Create: `sections/{component-name}.liquid`
- Structure: Add Liquid HTML + inline `{% schema %}` + optional `{% stylesheet %}`
- Include: Add to relevant `templates/*.json` in sections object
- Register in admin: Schema auto-registers in Shopify editor

**New Snippet (reusable partial):**
- Create: `snippets/{snippet-name}.liquid`
- Include in sections: `{% include 'snippet-name', variable: value %}`
- No schema needed; not editable in admin

**New Global Style:**
- Edit: `assets/theme.css`
- Follow BEM naming convention
- Use CSS custom properties for colors/fonts from settings

**New Global Interactive Behavior:**
- Edit: `assets/theme.js`
- Pattern: IIFE wrapper, query DOM by data attributes
- Use event listeners, not jQuery or frameworks
- Prefix variables/functions with `_` for private scope

**New Page Type:**
- Create: `templates/{page-type}.json`
- Structure: JSON with `sections` object and `order` array
- Add sections by type from `sections/` directory
- Configure section settings inline in template

**New Setting (theme customization):**
- Edit: `config/settings_schema.json`
- Add setting object to appropriate section
- Reference in Liquid: `{{ settings.setting_id }}`
- CSS variables: Define in `layout/theme.liquid` `<style>` block

**New Configurator Step:**
- Edit: `assets/configurator.js`
- Add step to `STEPS` array (update num, key, title, subtitle)
- Implement `_render{StepName}Step()` method
- Update state object in constructor
- Ensure product/collection data supports step

## Special Directories

**generated-images/:**
- Purpose: Output directory for configurator preview images
- Generated: Yes (by image processing during product selection)
- Committed: No (.gitignore prevents upload)

**.claude/:**
- Purpose: Claude/GSD workspace metadata
- Generated: Yes (by Claude Code tools)
- Committed: No (workspace-specific)

**.git/:**
- Purpose: Version control metadata
- Generated: Yes
- Committed: N/A

---

*Structure analysis: 2026-02-20*
