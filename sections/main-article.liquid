<section class="article-page section" style="padding-top: {{ section.settings.padding_top }}px; padding-bottom: {{ section.settings.padding_bottom }}px;">
  <div class="container">
    <article class="article-page__inner" style="max-width: {{ section.settings.content_width }}px; margin: 0 auto; text-align: {{ section.settings.text_alignment }};">
      <!-- Article Header -->
      <header class="article-page__header">
        {% if section.settings.show_date %}
          <time class="article-page__date" datetime="{{ article.published_at | date: '%Y-%m-%d' }}">
            {{ article.published_at | date: '%B %d, %Y' }}
          </time>
        {% endif %}

        <h1 class="article-page__title" style="{% render 'heading-size-vars', desktop: section.settings.heading_size, mobile: section.settings.heading_size_mobile %}">{{ article.title }}</h1>

        {% if section.settings.show_author %}
          <p class="article-page__author">By {{ article.author }}</p>
        {% endif %}
      </header>

      <!-- Featured Image -->
      {% if article.image and section.settings.show_image %}
        <div class="article-page__image-wrap">
          <img
            src="{{ article.image | image_url: width: 1200 }}"
            srcset="
              {{ article.image | image_url: width: 600 }} 600w,
              {{ article.image | image_url: width: 900 }} 900w,
              {{ article.image | image_url: width: 1200 }} 1200w
            "
            sizes="(max-width: 768px) 100vw, {{ section.settings.content_width }}px"
            alt="{{ article.image.alt | default: article.title | escape }}"
            loading="eager"
            class="article-page__image"
          >
        </div>
      {% endif %}

      <!-- Article Content -->
      <div class="article-page__content rte" style="text-align: left;">
        {{ article.content }}
      </div>

      <!-- Tags -->
      {% if article.tags.size > 0 and section.settings.show_tags %}
        <div class="article-page__tags">
          {% for tag in article.tags %}
            <a href="{{ blog.url }}/tagged/{{ tag | handleize }}" class="article-page__tag">{{ tag }}</a>
          {% endfor %}
        </div>
      {% endif %}

      <!-- Share -->
      {% if section.settings.show_share %}
        <div class="article-page__share">
          <span class="article-page__share-label">Share this article</span>
          <div class="article-page__share-links">
            <a href="https://www.facebook.com/sharer/sharer.php?u={{ shop.url }}{{ article.url }}" target="_blank" rel="noopener" aria-label="Share on Facebook">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg>
            </a>
            <a href="https://twitter.com/intent/tweet?url={{ shop.url }}{{ article.url }}&text={{ article.title | url_encode }}" target="_blank" rel="noopener" aria-label="Share on Twitter">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/></svg>
            </a>
          </div>
        </div>
      {% endif %}

      <!-- Navigation -->
      <nav class="article-page__nav">
        {% if blog.previous_article %}
          <a href="{{ blog.previous_article }}" class="article-page__nav-link article-page__nav-link--prev">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
            Previous Article
          </a>
        {% endif %}
        <a href="{{ blog.url }}" class="article-page__nav-link">All Articles</a>
        {% if blog.next_article %}
          <a href="{{ blog.next_article }}" class="article-page__nav-link article-page__nav-link--next">
            Next Article
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
          </a>
        {% endif %}
      </nav>
    </article>
  </div>
</section>

{% schema %}
{
  "name": "Article Page",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "checkbox",
      "id": "show_date",
      "label": "Show date",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_author",
      "label": "Show author",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_image",
      "label": "Show featured image",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_tags",
      "label": "Show tags",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_share",
      "label": "Show share buttons",
      "default": true
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Heading size",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "heading_size_mobile",
      "label": "Heading size (mobile)",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Header alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "content_width",
      "label": "Content width",
      "min": 600,
      "max": 1000,
      "step": 50,
      "default": 800,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 40,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 40,
      "unit": "px"
    }
  ]
}
{% endschema %}
