<section class="faq section {% if section.settings.color_scheme == 'surface' %}section--surface{% elsif section.settings.color_scheme == 'dark' %}section--dark{% endif %}" style="padding-top: {{ section.settings.padding_top }}px; padding-bottom: {{ section.settings.padding_bottom }}px;">
  <div class="container">
    <div class="faq__layout {% if section.settings.layout == 'side_by_side' %}faq__layout--split{% endif %}">
      {% if section.settings.heading != blank or section.settings.subheading != blank or section.settings.button_text != blank %}
        <div class="faq__header-col" style="text-align: {{ section.settings.text_alignment }};">
          {% if section.settings.heading != blank %}
            <h2 class="faq__heading" style="{% render 'heading-size-vars', desktop: section.settings.heading_size, mobile: section.settings.heading_size_mobile %}">{{ section.settings.heading }}</h2>
          {% endif %}
          {% if section.settings.subheading != blank %}
            <p class="faq__subheading" style="font-size: {% if section.settings.text_size == 'small' %}0.875rem{% elsif section.settings.text_size == 'large' %}1.25rem{% else %}1rem{% endif %};">{{ section.settings.subheading }}</p>
          {% endif %}
          {% if section.settings.button_text != blank %}
            <a href="{{ section.settings.button_url }}" class="button {% if section.settings.button_style == 'primary' %}button--primary{% else %}button--outline{% endif %} faq__cta">
              {{ section.settings.button_text }}
            </a>
          {% endif %}
        </div>
      {% endif %}

      <div class="faq__items" style="max-width: {{ section.settings.content_width }}px;">
        {% for block in section.blocks %}
          <div class="faq__item" {{ block.shopify_attributes }}>
            <button class="faq__trigger" data-collapsible-trigger aria-expanded="{% if block.settings.open_by_default %}true{% else %}false{% endif %}">
              <span class="faq__question">{{ block.settings.heading }}</span>
              <svg class="faq__chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </button>
            <div class="faq__answer {% if block.settings.open_by_default %}faq__answer--open{% endif %}" data-collapsible-content {% if block.settings.open_by_default %}style="display: block;"{% endif %}>
              <div class="faq__answer-inner rte">
                {{ block.settings.content }}
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Collapsible Content",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Frequently Asked Questions"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Find answers to common questions about our products and services."
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button link"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "Button style",
      "options": [
        { "value": "primary", "label": "Primary (filled)" },
        { "value": "outline", "label": "Outline" }
      ],
      "default": "outline"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Heading size",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "heading_size_mobile",
      "label": "Heading size (mobile)",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "text_size",
      "label": "Text size",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ],
      "default": "left"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "options": [
        { "value": "stacked", "label": "Stacked" },
        { "value": "side_by_side", "label": "Heading beside content" }
      ],
      "default": "stacked"
    },
    {
      "type": "range",
      "id": "content_width",
      "label": "Content width",
      "min": 500,
      "max": 1200,
      "step": 50,
      "default": 800,
      "unit": "px"
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "options": [
        { "value": "default", "label": "Default" },
        { "value": "surface", "label": "Surface" },
        { "value": "dark", "label": "Dark" }
      ],
      "default": "default"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 40,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 40,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "collapsible_row",
      "name": "Collapsible Row",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Question",
          "default": "What materials are used?"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Answer",
          "default": "<p>We use premium Nordic thermowood and marine-grade components for lasting durability in all weather conditions.</p>"
        },
        {
          "type": "checkbox",
          "id": "open_by_default",
          "label": "Open by default",
          "default": false
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Collapsible Content",
      "blocks": [
        {
          "type": "collapsible_row",
          "settings": {
            "heading": "What materials are your tubs made from?",
            "content": "<p>All our tubs are crafted from premium Nordic thermowood, known for its exceptional durability and natural beauty. The wood is thermally modified to resist rot, moisture, and insects without chemical treatment.</p>",
            "open_by_default": true
          }
        },
        {
          "type": "collapsible_row",
          "settings": {
            "heading": "How long does delivery take?",
            "content": "<p>Standard delivery takes 4-6 weeks from order confirmation. Each tub is built to order, ensuring you receive a fresh, perfectly crafted product. Express options may be available.</p>"
          }
        },
        {
          "type": "collapsible_row",
          "settings": {
            "heading": "Do you offer installation services?",
            "content": "<p>Yes, we offer professional installation in select regions. Our team will prepare the site, deliver, and set up your tub. Contact us for availability in your area.</p>"
          }
        },
        {
          "type": "collapsible_row",
          "settings": {
            "heading": "What warranty do you provide?",
            "content": "<p>We offer a 5 to 10-year warranty depending on the model. The warranty covers structural defects, heating system components, and liner integrity. See our warranty page for details.</p>"
          }
        }
      ]
    }
  ]
}
{% endschema %}
