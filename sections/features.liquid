<section class="features section {% if section.settings.color_scheme == 'surface' %}section--surface{% elsif section.settings.color_scheme == 'dark' %}section--dark{% endif %}" style="padding-top: {{ section.settings.padding_top }}px; padding-bottom: {{ section.settings.padding_bottom }}px;">
  <div class="container">
    {% if section.settings.heading != blank or section.settings.subheading != blank %}
      <div class="section__header" style="text-align: {{ section.settings.text_alignment }};">
        {% if section.settings.heading != blank %}
          <h2 class="section__heading" style="{% render 'heading-size-vars', desktop: section.settings.heading_size, mobile: section.settings.heading_size_mobile %}">{{ section.settings.heading }}</h2>
        {% endif %}
        {% if section.settings.subheading != blank %}
          <p class="section__subheading" style="font-size: {% if section.settings.text_size == 'small' %}0.875rem{% elsif section.settings.text_size == 'large' %}1.125rem{% else %}1rem{% endif %};">{{ section.settings.subheading }}</p>
        {% endif %}
      </div>
    {% endif %}

    <div class="features__grid features__grid--{{ section.settings.columns }}" style="gap: {{ section.settings.grid_gap }}px;">
      {% for block in section.blocks %}
        <div class="features__card" style="text-align: {{ block.settings.text_alignment }};" {{ block.shopify_attributes }}>
          {% if block.settings.custom_image %}
            <div class="features__icon">
              <img src="{{ block.settings.custom_image | image_url: width: 80 }}" alt="{{ block.settings.heading | escape }}" width="40" height="40" loading="lazy">
            </div>
          {% elsif block.settings.icon != 'none' %}
            <div class="features__icon">
              {% render 'icon', name: block.settings.icon, size: 40 %}
            </div>
          {% endif %}
          <h3 class="features__title">{{ block.settings.heading }}</h3>
          <p class="features__text">{{ block.settings.text }}</p>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Features",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Why Aurowe"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Built on Nordic traditions, designed for modern living."
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Heading size",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "heading_size_mobile",
      "label": "Heading size (mobile)",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "text_size",
      "label": "Text size",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "columns",
      "label": "Columns",
      "options": [
        { "value": "2", "label": "2" },
        { "value": "3", "label": "3" },
        { "value": "4", "label": "4" },
        { "value": "6", "label": "6" }
      ],
      "default": "4"
    },
    {
      "type": "range",
      "id": "grid_gap",
      "label": "Grid gap",
      "min": 8,
      "max": 48,
      "step": 4,
      "default": 24,
      "unit": "px"
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "options": [
        { "value": "default", "label": "Default" },
        { "value": "surface", "label": "Surface" },
        { "value": "dark", "label": "Dark" }
      ],
      "default": "default"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 40,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 40,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature",
      "limit": 6,
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            { "value": "none", "label": "None" },
            { "value": "craft", "label": "Craft / Tool" },
            { "value": "leaf", "label": "Leaf / Eco" },
            { "value": "shield", "label": "Shield / Warranty" },
            { "value": "palette", "label": "Palette / Custom" },
            { "value": "snowflake", "label": "Snowflake / Cold" },
            { "value": "truck", "label": "Truck / Delivery" },
            { "value": "star", "label": "Star / Rating" },
            { "value": "heart", "label": "Heart / Love" },
            { "value": "globe", "label": "Globe / Worldwide" },
            { "value": "pin", "label": "Pin / Location" },
            { "value": "check", "label": "Checkmark" },
            { "value": "award", "label": "Award / Medal" },
            { "value": "thermometer", "label": "Thermometer" },
            { "value": "droplet", "label": "Droplet / Water" },
            { "value": "flame", "label": "Flame / Heat" },
            { "value": "sun", "label": "Sun" },
            { "value": "moon", "label": "Moon" },
            { "value": "wind", "label": "Wind" },
            { "value": "zap", "label": "Zap / Lightning" },
            { "value": "clock", "label": "Clock / Time" },
            { "value": "users", "label": "Users / People" },
            { "value": "home", "label": "Home" },
            { "value": "settings", "label": "Settings / Gear" },
            { "value": "lock", "label": "Lock / Secure" },
            { "value": "refresh", "label": "Refresh / Cycle" },
            { "value": "wifi", "label": "WiFi / Connected" },
            { "value": "battery", "label": "Battery / Power" },
            { "value": "package", "label": "Package / Box" },
            { "value": "phone", "label": "Phone" },
            { "value": "mail", "label": "Mail / Email" },
            { "value": "target", "label": "Target / Focus" },
            { "value": "layers", "label": "Layers / Stack" },
            { "value": "sliders", "label": "Sliders / Adjust" },
            { "value": "trending-up", "label": "Trending Up / Growth" },
            { "value": "coffee", "label": "Coffee / Relax" },
            { "value": "smile", "label": "Smile / Happy" },
            { "value": "thumbs-up", "label": "Thumbs Up" },
            { "value": "eye", "label": "Eye / View" },
            { "value": "camera", "label": "Camera / Photo" },
            { "value": "music", "label": "Music" },
            { "value": "book", "label": "Book" },
            { "value": "gift", "label": "Gift" },
            { "value": "tag", "label": "Tag / Price" },
            { "value": "percent", "label": "Percent / Discount" },
            { "value": "recycle", "label": "Recycle" },
            { "value": "compass", "label": "Compass / Navigate" },
            { "value": "anchor", "label": "Anchor / Marine" },
            { "value": "life-buoy", "label": "Life Buoy / Safety" },
            { "value": "feather", "label": "Feather / Light" },
            { "value": "dollar", "label": "Dollar / Price" },
            { "value": "waves", "label": "Waves / Water" },
            { "value": "mountain", "label": "Mountain / Nature" }
          ],
          "default": "craft"
        },
        {
          "type": "image_picker",
          "id": "custom_image",
          "label": "Custom icon image",
          "info": "Upload a custom icon. Overrides the icon selection above."
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Handcrafted"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Description",
          "default": "Each tub is meticulously handcrafted by skilled Nordic artisans."
        },
        {
          "type": "select",
          "id": "text_alignment",
          "label": "Text alignment",
          "options": [
            { "value": "left", "label": "Left" },
            { "value": "center", "label": "Center" }
          ],
          "default": "center"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Features",
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "icon": "craft",
            "heading": "Handcrafted in Scandinavia",
            "text": "Each tub is meticulously built by skilled Nordic artisans using time-honored techniques."
          }
        },
        {
          "type": "feature",
          "settings": {
            "icon": "leaf",
            "heading": "Sustainable Materials",
            "text": "Responsibly sourced thermowood and eco-friendly finishes that stand the test of time."
          }
        },
        {
          "type": "feature",
          "settings": {
            "icon": "shield",
            "heading": "Up to 10-Year Warranty",
            "text": "We stand behind every tub with industry-leading warranty coverage."
          }
        },
        {
          "type": "feature",
          "settings": {
            "icon": "palette",
            "heading": "Fully Customizable",
            "text": "Choose your size, wood finish, liner color, and equipment to match your vision."
          }
        }
      ]
    }
  ]
}
{% endschema %}
