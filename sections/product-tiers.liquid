<section class="product-tiers section section--surface">
  <div class="container">
    {% if section.settings.heading != blank %}
      <div class="section__header">
        <h2 class="section__heading">{{ section.settings.heading }}</h2>
        {% if section.settings.subheading != blank %}
          <p class="section__subheading">{{ section.settings.subheading }}</p>
        {% endif %}
      </div>
    {% endif %}

    <div class="product-tiers__grid">
      {% for block in section.blocks %}
        <div class="product-tiers__card {% if block.settings.featured %}product-tiers__card--featured{% endif %}" {{ block.shopify_attributes }}>
          {% if block.settings.featured %}
            <span class="product-tiers__badge">Most Popular</span>
          {% endif %}

          <div class="product-tiers__image-wrap">
            {% if block.settings.image %}
              <img
                src="{{ block.settings.image | image_url: width: 600 }}"
                alt="{{ block.settings.name | escape }}"
                loading="lazy"
                class="product-tiers__image"
              >
            {% else %}
              <div class="product-tiers__placeholder"></div>
            {% endif %}
          </div>

          <div class="product-tiers__info">
            <h3 class="product-tiers__name">{{ block.settings.name }}</h3>
            <p class="product-tiers__price">From {{ block.settings.price }}</p>

            {% if block.settings.description != blank %}
              <p class="product-tiers__desc">{{ block.settings.description }}</p>
            {% endif %}

            <ul class="product-tiers__features">
              {% if block.settings.feature_1 != blank %}
                <li>{{ block.settings.feature_1 }}</li>
              {% endif %}
              {% if block.settings.feature_2 != blank %}
                <li>{{ block.settings.feature_2 }}</li>
              {% endif %}
              {% if block.settings.feature_3 != blank %}
                <li>{{ block.settings.feature_3 }}</li>
              {% endif %}
              {% if block.settings.feature_4 != blank %}
                <li>{{ block.settings.feature_4 }}</li>
              {% endif %}
            </ul>

            {% if block.settings.button_text != blank %}
              <a href="{{ block.settings.button_url }}" class="button {% if block.settings.featured %}button--primary{% else %}button--outline{% endif %}">
                {{ block.settings.button_text }}
              </a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Product Tiers",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Choose Your Experience"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Three tiers of Nordic luxury, each built with the same uncompromising quality."
    }
  ],
  "blocks": [
    {
      "type": "tier",
      "name": "Product Tier",
      "limit": 4,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Tier name",
          "default": "Nordic Elite Classic"
        },
        {
          "type": "text",
          "id": "price",
          "label": "Starting price",
          "default": "€5,000"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "The perfect entry into Nordic bathing culture."
        },
        {
          "type": "text",
          "id": "feature_1",
          "label": "Feature 1",
          "default": "Seats 2-4 persons"
        },
        {
          "type": "text",
          "id": "feature_2",
          "label": "Feature 2",
          "default": "Thermowood exterior"
        },
        {
          "type": "text",
          "id": "feature_3",
          "label": "Feature 3",
          "default": "Energy-efficient heating"
        },
        {
          "type": "text",
          "id": "feature_4",
          "label": "Feature 4",
          "default": "5-year warranty"
        },
        {
          "type": "checkbox",
          "id": "featured",
          "label": "Mark as featured",
          "default": false
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button text",
          "default": "Learn More"
        },
        {
          "type": "url",
          "id": "button_url",
          "label": "Button link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Tiers",
      "blocks": [
        {
          "type": "tier",
          "settings": {
            "name": "Nordic Elite Classic",
            "price": "€5,000",
            "description": "The perfect entry into Nordic bathing culture.",
            "feature_1": "Seats 2-4 persons",
            "feature_2": "Thermowood exterior",
            "feature_3": "Energy-efficient heating",
            "feature_4": "5-year warranty"
          }
        },
        {
          "type": "tier",
          "settings": {
            "name": "Nordic Elite Premium",
            "price": "€7,000",
            "description": "Enhanced comfort with premium materials and features.",
            "feature_1": "Seats 4-6 persons",
            "feature_2": "Premium thermowood finish",
            "feature_3": "Advanced jet system",
            "feature_4": "7-year warranty",
            "featured": true
          }
        },
        {
          "type": "tier",
          "settings": {
            "name": "Nordic Elite Signature",
            "price": "€9,000",
            "description": "The ultimate Nordic bathing experience, fully customizable.",
            "feature_1": "Seats 6-8 persons",
            "feature_2": "Custom wood & liner selection",
            "feature_3": "Smart temperature control",
            "feature_4": "10-year warranty"
          }
        }
      ]
    }
  ]
}
{% endschema %}
